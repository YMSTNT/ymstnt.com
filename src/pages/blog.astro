---
import Layout from "../layouts/Layout.astro";
import BlogPost from "../components/BlogPost.astro";
const allPosts = await Astro.glob("../pages/posts/*.md");
allPosts.sort((a, b) => Date.parse(b.frontmatter.pubDate) - Date.parse(a.frontmatter.pubDate));

const tags = [...new Set(allPosts.map((post) => post.frontmatter.tags).flat())];
---

<Layout title="TNT's Blog" description="My random posts">
  <section id="article-list">
    {
      allPosts.map((post) => (
        <BlogPost
          url={post.url}
          description={post.frontmatter.description}
          title={post.frontmatter.title}
          date={post.frontmatter.pubDate.slice(0,10)}
        />
      ))
    }
  </section>
</Layout>

<style>
  @media (max-width: 500px) {
    body {
      font-size: 1em;
    }
    #article-list {
      padding: 0 1.5em;
    }
  }
</style>
